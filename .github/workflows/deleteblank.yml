name: ğŸ§¨ Full Repository Cleanup

on:
  workflow_dispatch: # ìˆ˜ë™ ì‹¤í–‰ë§Œ í—ˆìš©

permissions:
  contents: write

jobs:
  nuke:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¦ Checkout Repository (Full Depth)
        uses: actions/checkout@v4
        with:
          fetch-depth: 0 # ì „ì²´ ê¸°ë¡ ìœ ì§€

      - name: ğŸ§¹ Remove All Files (except .git)
        run: |
          echo "âš ï¸ ì „ì²´ íŒŒì¼ì„ ì‚­ì œí•©ë‹ˆë‹¤ (.git ì œì™¸)..."
          find . -mindepth 1 -not -name '.git' -not -name '.' -exec rm -rf {} +
          echo "âœ… ì‚­ì œ ì™„ë£Œ"

      - name: âœ… Commit & Push Deleted State
        run: |
          git config --global user.name "github-actions[bot]"
          git config --global user.email "41898282+github-actions[bot]@users.noreply.github.com"
          git add -A
          git commit -m "ğŸ—‘ï¸ ì „ì²´ íŒŒì¼ ë° ì›Œí¬í”Œë¡œìš° ì‚­ì œ ì™„ë£Œ"
          git push
